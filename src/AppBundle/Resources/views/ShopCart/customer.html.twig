{% extends 'AppBundle::base.html.twig' %}

{% block body %}
<div class="customer row">

    <div class="col-md-12">
        <div class="steps row">
            <div class="col-md-4"><span class="step"><a href="{{ path('shop_cart') }}">1 Způsob dopravy a platby</a></span></div>
            <div class="col-md-4"><span class="step">2 Dodací a fakturační údaje</span></div>
            <div class="col-md-4"><span class="step">3 Shrnutí a platba</span></div>
        </div>
    </div>

    <div class="col-md-9">

        <h3><i class="fas fa-money-check-alt"></i> Fakturační údaje</h3>

        <form action="{{ path('shop_customer') }}" method="POST" novalidate>

        <div class="row">
            <div class="col-md-2">
                {{ form_label(billingForm.billing_name) }}
            </div>
            <div class="col-md-10">
                {{ form_widget(billingForm.billing_name) }}
                {{ form_errors(billingForm.billing_name) }}
            </div>
        </div>
        <div class="row">
            <div class="col-md-2">
                {{ form_label(billingForm.billing_company) }}
            </div>
            <div class="col-md-4">
                {{ form_widget(billingForm.billing_company) }}
                {{ form_errors(billingForm.billing_company) }}
            </div>
        </div>
        <div class="row">
            <div class="col-md-2">
                {{ form_label(billingForm.billing_ico) }}
            </div>
            <div class="col-md-4">
                {{ form_widget(billingForm.billing_ico) }}
                {{ form_errors(billingForm.billing_ico) }}
            </div>
            <div class="col-md-2">
                {{ form_label(billingForm.billing_dic) }}
            </div>
            <div class="col-md-4">
                {{ form_widget(billingForm.billing_dic) }}
                {{ form_errors(billingForm.billing_dic) }}
            </div>
        </div>
        <div class="row">
            <div class="col-md-2">
                {{ form_label(billingForm.email) }}
            </div>
            <div class="col-md-4">
                {{ form_widget(billingForm.email) }}
                {{ form_errors(billingForm.email) }}
            </div>
            <div class="col-md-2">
                {{ form_label(billingForm.phone) }}
            </div>
            <div class="col-md-4">
                {{ form_widget(billingForm.phone) }}
                {{ form_errors(billingForm.phone) }}
            </div>
            <div class="col-md-2">
                {{ form_label(billingForm.billing_address) }}
            </div>
            <div class="col-md-10">
                {{ form_widget(billingForm.billing_address) }}
                {{ form_errors(billingForm.billing_address) }}
            </div>
            <div class="col-md-2">
                {{ form_label(billingForm.billing_city) }}
            </div>
            <div class="col-md-4">
                {{ form_widget(billingForm.billing_city) }}
                {{ form_errors(billingForm.billing_city) }}
            </div>
            <div class="col-md-2">
                {{ form_label(billingForm.billing_postcode) }}
            </div>
            <div class="col-md-4">
                {{ form_widget(billingForm.billing_postcode) }}
                {{ form_errors(billingForm.billing_postcode) }}
            </div>
        </div>
        <div class="row">
            <div class="col-md-12">
                {{ form_widget(billingForm.is_delivery) }}
            </div>
        </div>

        <h3><i class="fas fa-box-open"></i> Doručovací údaje</h3>

        <div class="delivery-form">
            {{ form_widget(deliveryForm) }}
        </div>

            {#{ form_widget(billingForm) }#}

            {{ form_widget(deliveryForm) }}

            {{ form_widget(passwordForm) }}

            <input type="submit" class="btn btn-primary" value="Pokračovat ke shrnutí objednávky" />
        </form>
    </form>

    <div class="col-md-3">
        <div><strong>Objednávka</strong></div>

        <table width="100%">
            <tr>
                <th>Model</th>
                <th>Název</th>
                <th>Počet</th>
                <th>Cena</th>
                <th>Akce</th>
            </tr>
            {% for item in cm.cart.items %}
                <tr>
                    <td>{{ item.product.model }}</td>
                    <td>{{ item.product.name }}</td>
                    <td>{{ item.quantity }}</td>
                    <td>{{ item.price }}</td>
                    <td>smazat</td>
                </tr>
            {% endfor %}
        </table>

        <div><strong>Doprava</strong></div>
        <div>{{ cm.cart.shipping }}</div>

        <div><strong>Platba</strong></div>
        <div>{{ cm.cart.payment }}</div>

        <div><strong>Celková cena</strong></div>
        <div>{{ cm.cart.total | price }}</div>
    </div>
</div>
{% endblock %}

{% block javascripts %}
    {{ parent() }}
    <script src="{{ asset('js/customer.js') }}"></script>
{% endblock %}